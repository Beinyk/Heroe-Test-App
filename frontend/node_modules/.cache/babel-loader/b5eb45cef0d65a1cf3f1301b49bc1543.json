{"ast":null,"code":"var _jsxFileName = \"/home/eito/Downloads/Project/Heroe-App/frontend/src/components/heroes/AddHeroe.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TextInputGroup from '../layout/TextInputGroup';\nimport getApiUrl from \"../../helpers/getApiUrl\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AddHeroe extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nickname: '',\n      realName: '',\n      originDescription: '',\n      superpowers: '',\n      catchPhrase: '',\n      pathImage: null,\n      errors: {}\n    };\n\n    this.onSubmit = async (dispatch, e) => {\n      e.preventDefault();\n      const {\n        nickname,\n        realName,\n        originDescription,\n        superpowers,\n        catchPhrase,\n        pathImage\n      } = this.state; //Check for errors\n\n      if (nickname === \"\") {\n        this.setState({\n          errors: {\n            nickname: 'Nickname is required'\n          }\n        });\n        return;\n      }\n\n      if (realName === \"\") {\n        this.setState({\n          errors: {\n            realName: 'RealName is required'\n          }\n        });\n        return;\n      }\n\n      if (originDescription === \"\") {\n        this.setState({\n          errors: {\n            originDescription: 'Description is required'\n          }\n        });\n        return;\n      }\n\n      if (superpowers === \"\") {\n        this.setState({\n          errors: {\n            superpowers: 'Superpowers is required'\n          }\n        });\n        return;\n      }\n\n      if (catchPhrase === \"\") {\n        this.setState({\n          errors: {\n            catchPhrase: 'Catch phrase is required'\n          }\n        });\n        return;\n      }\n\n      const newHeroe = {\n        nickname,\n        realName,\n        originDescription,\n        superpowers,\n        catchPhrase\n      };\n      const formData = new FormData(); // add form data\n\n      for (var key in newHeroe) {\n        formData.append(key, newHeroe[key]);\n      } // add image\n\n\n      formData.append('image', pathImage);\n      const res = await axios.post(`${getApiUrl()}/heroe/add`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      dispatch({\n        type: 'ADD_HEROE',\n        payload: res.data\n      }); //clear State\n\n      this.setState({\n        realName: '',\n        originDescription: '',\n        superpowers: '',\n        catchPhrase: '',\n        errors: {}\n      }); //redirect \n\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n\n    this.uploadImage = e => {\n      this.setState({\n        pathImage: e.target.files[0]\n      });\n    };\n  }\n\n  render() {\n    const {\n      nickname,\n      realName,\n      originDescription,\n      superpowers,\n      catchPhrase,\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Consumer, {\n      children: value => {\n        const {\n          dispatch\n        } = value;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header text-center font-weight-bold\",\n            children: \"Add Heroe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit.bind(this.setState, dispatch),\n              children: [/*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Name of Heroe\",\n                name: \"nickname\",\n                placeholder: \"Enter heroe name\",\n                value: nickname,\n                onChange: this.onChange,\n                error: errors.nickname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Real name of Heroe\",\n                name: \"realName\",\n                placeholder: \"Enter real name\",\n                value: realName,\n                onChange: this.onChange,\n                error: errors.realName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Description\",\n                name: \"originDescription\",\n                placeholder: \"Enter Description of heroe\",\n                value: originDescription,\n                onChange: this.onChange,\n                error: errors.originDescription\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Superpowers of Heroe\",\n                name: \"superpowers\",\n                placeholder: \"Enter superpowers\",\n                value: superpowers,\n                onChange: this.onChange,\n                error: errors.superpowers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Catch Phrase\",\n                name: \"catchPhrase\",\n                placeholder: \"Enter Catch Phrase\",\n                value: catchPhrase,\n                onChange: this.onChange,\n                error: errors.catchPhrase\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"file\",\n                  className: \"d-block mb-1\",\n                  children: \"Heroe image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  onChange: this.uploadImage,\n                  type: \"file\",\n                  name: \"file\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  children: \"Add Heroe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default AddHeroe;","map":{"version":3,"sources":["/home/eito/Downloads/Project/Heroe-App/frontend/src/components/heroes/AddHeroe.js"],"names":["React","Component","Consumer","TextInputGroup","getApiUrl","axios","AddHeroe","state","nickname","realName","originDescription","superpowers","catchPhrase","pathImage","errors","onSubmit","dispatch","e","preventDefault","setState","newHeroe","formData","FormData","key","append","res","post","headers","type","payload","data","props","history","push","onChange","target","name","value","uploadImage","files","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TextInputGroup from '../layout/TextInputGroup';\nimport getApiUrl from \"../../helpers/getApiUrl\";\nimport axios from 'axios';\n\nclass AddHeroe extends Component {\n\n    state = {\n        nickname: '',\n        realName: '', \n        originDescription: '',\n        superpowers: '',\n        catchPhrase: '',\n        pathImage: null,\n        errors: {}\n    };\n\n    onSubmit = async (dispatch, e) => {\n        e.preventDefault();\n\n        const { nickname, realName, originDescription, superpowers, catchPhrase, pathImage } = this.state;\n\n    //Check for errors\n        if(nickname === \"\") {\n            this.setState({errors: {nickname: 'Nickname is required'}});\n            return;\n        }\n        if(realName === \"\") {\n            this.setState({errors: {realName: 'RealName is required'}});\n            return;\n        }\n        if(originDescription === \"\") {\n            this.setState({errors: {originDescription: 'Description is required'}});\n            return;\n        }\n        if(superpowers === \"\") {\n            this.setState({errors: {superpowers: 'Superpowers is required'}});\n            return;\n        }\n        if(catchPhrase === \"\") {\n            this.setState({errors: {catchPhrase: 'Catch phrase is required'}});\n            return;\n        }\n\n        const newHeroe = {\n            nickname,\n            realName, \n            originDescription,\n            superpowers,\n            catchPhrase,\n        };\n\n        const formData = new FormData();\n        // add form data\n        for ( var key in newHeroe ) {\n            formData.append(key, newHeroe[key]);\n        }\n        // add image\n        formData.append('image', pathImage);\n\n        const res = await axios\n            .post(`${getApiUrl()}/heroe/add`, formData, {\n                headers: {\n                  'Content-Type': 'multipart/form-data'\n                }\n              })\n\n\n            dispatch({type: 'ADD_HEROE', payload: res.data});\n\n\n        //clear State\n        this.setState({\n            realName: '', \n            originDescription: '',\n            superpowers: '',\n            catchPhrase: '',\n            errors: {}\n        });\n\n        //redirect \n        this.props.history.push('/')\n    };\n\n    onChange = e => this.setState({[e.target.name]: e.target.value});\n    \n    uploadImage = e => {\n        this.setState({pathImage: e.target.files[0]});\n    }\n\n    render() {\n        const { nickname, realName, originDescription, superpowers, catchPhrase, errors } = this.state;\n\n        return (\n            <Consumer>\n                {value => {\n                    const { dispatch } = value;\n                    return (\n                        <div className=\"card mb-3\">\n                        <div className=\"card-header text-center font-weight-bold\">Add Heroe</div>\n                        <div className=\"card-body\">\n                            <form onSubmit={this.onSubmit.bind(this.setState, dispatch)}>\n                                <TextInputGroup\n                                    label=\"Name of Heroe\"\n                                    name=\"nickname\"\n                                    placeholder=\"Enter heroe name\"\n                                    value={nickname}\n                                    onChange={this.onChange}\n                                    error={errors.nickname}\n                                />\n                                <TextInputGroup\n                                    label=\"Real name of Heroe\"\n                                    name=\"realName\"\n                                    placeholder=\"Enter real name\"\n                                    value={realName}\n                                    onChange={this.onChange}\n                                    error={errors.realName}\n                                />\n                                <TextInputGroup\n                                    label=\"Description\"\n                                    name=\"originDescription\"\n                                    placeholder=\"Enter Description of heroe\"\n                                    value={originDescription}\n                                    onChange={this.onChange}\n                                    error={errors.originDescription}\n                                />\n                                <TextInputGroup\n                                    label=\"Superpowers of Heroe\"\n                                    name=\"superpowers\"\n                                    placeholder=\"Enter superpowers\"\n                                    value={superpowers}\n                                    onChange={this.onChange}\n                                    error={errors.superpowers}\n                                />\n                                <TextInputGroup\n                                    label=\"Catch Phrase\"\n                                    name=\"catchPhrase\"\n                                    placeholder=\"Enter Catch Phrase\"\n                                    value={catchPhrase}\n                                    onChange={this.onChange}\n                                    error={errors.catchPhrase}\n                                />\n                                <div className=\"form-group mb-3\">\n                                    <label htmlFor=\"file\" className=\"d-block mb-1\">Heroe image</label>\n                                    <input onChange={this.uploadImage} type=\"file\" name=\"file\" />\n                                </div>\n                                <div className=\"text-center\">\n                                    <button type=\"submit\" className=\"btn btn-primary\">Add Heroe</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    )\n                }}\n            </Consumer>\n        )\n        \n    }\n}\n\nexport default AddHeroe;"]},"metadata":{},"sourceType":"module"}