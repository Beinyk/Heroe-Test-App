{"ast":null,"code":"var _jsxFileName = \"/home/eito/Downloads/Project/Heroe-App/frontend/src/components/heroes/EditHeroe.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TextInputGroup from '../layout/TextInputGroup';\nimport axios from 'axios';\nimport getApiUrl from \"../../helpers/getApiUrl\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass EditHeroe extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nickname: '',\n      realName: '',\n      originDescription: '',\n      superpowers: '',\n      catchPhrase: '',\n      errors: {}\n    };\n\n    this.onSubmit = async (dispatch, e) => {\n      e.preventDefault();\n      const {\n        nickname,\n        realName,\n        originDescription,\n        superpowers,\n        catchPhrase\n      } = this.state; //Check for errors\n\n      if (nickname === \"\") {\n        this.setState({\n          errors: {\n            nickname: 'Nickname is required'\n          }\n        });\n        return;\n      }\n\n      if (realName === \"\") {\n        this.setState({\n          errors: {\n            realName: 'RealName is required'\n          }\n        });\n        return;\n      }\n\n      if (originDescription === \"\") {\n        this.setState({\n          errors: {\n            originDescription: 'Description is required'\n          }\n        });\n        return;\n      }\n\n      if (superpowers === \"\") {\n        this.setState({\n          errors: {\n            superpowers: 'Superpowers is required'\n          }\n        });\n        return;\n      }\n\n      if (catchPhrase === \"\") {\n        this.setState({\n          errors: {\n            catchPhrase: 'Catch phrase is required'\n          }\n        });\n        return;\n      }\n\n      const updHeroe = {\n        nickname,\n        realName,\n        originDescription,\n        superpowers,\n        catchPhrase\n      };\n      const {\n        id\n      } = this.props.match.params;\n      const res = await axios.put(`http://localhost:3000/update/${id}`, updHeroe);\n      dispatch({\n        type: 'UPDATE_HEROE',\n        payload: res.data\n      }); //clear State\n\n      this.setState({\n        realName: '',\n        originDescription: '',\n        superpowers: '',\n        catchPhrase: '',\n        errors: {}\n      }); //redirect \n\n      this.props.history.push('/');\n    };\n\n    this.onChange = e => this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  //get heroe info\n  async componentDidMount() {\n    const {\n      id\n    } = this.props.match.params;\n    const res = await axios.get(`${getApiUrl()}/${id}`);\n    const heroe = res.data;\n    this.setState({\n      nickname: heroe.nickname,\n      realName: heroe.realName,\n      originDescription: heroe.originDescription,\n      superpowers: heroe.superpowers,\n      catchPhrase: heroe.catchPhrase\n    });\n  }\n\n  render() {\n    const {\n      nickname,\n      realName,\n      originDescription,\n      superpowers,\n      catchPhrase,\n      errors\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(Consumer, {\n      children: value => {\n        const {\n          dispatch\n        } = value;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header text-center\",\n            children: \"Edit Heroe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: this.onSubmit.bind(this.setState, dispatch),\n              children: [/*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Name of Heroe\",\n                name: \"nickname\",\n                placeholder: \"Enter heroe name\",\n                value: nickname,\n                onChange: this.onChange,\n                error: errors.nickname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Real name of Heroe\",\n                name: \"realName\",\n                placeholder: \"Enter real name\",\n                value: realName,\n                onChange: this.onChange,\n                error: errors.realName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Description\",\n                name: \"originDescription\",\n                placeholder: \"Enter Description of heroe\",\n                value: originDescription,\n                onChange: this.onChange,\n                error: errors.originDescription\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Superpowers of Heroe\",\n                name: \"superpowers\",\n                placeholder: \"Enter superpowers\",\n                value: superpowers,\n                onChange: this.onChange,\n                error: errors.superpowers\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TextInputGroup, {\n                label: \"Catch Phrase\",\n                name: \"catchPhrase\",\n                placeholder: \"Enter Catch Phrase\",\n                value: catchPhrase,\n                onChange: this.onChange,\n                error: errors.catchPhrase\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  children: \"Update Heroe\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 34\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default EditHeroe;","map":{"version":3,"sources":["/home/eito/Downloads/Project/Heroe-App/frontend/src/components/heroes/EditHeroe.js"],"names":["React","Component","Consumer","TextInputGroup","axios","getApiUrl","EditHeroe","state","nickname","realName","originDescription","superpowers","catchPhrase","errors","onSubmit","dispatch","e","preventDefault","setState","updHeroe","id","props","match","params","res","put","type","payload","data","history","push","onChange","target","name","value","componentDidMount","get","heroe","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport TextInputGroup from '../layout/TextInputGroup';\nimport axios from 'axios';\nimport getApiUrl from \"../../helpers/getApiUrl\";\n\n\nclass EditHeroe extends Component {\n\n    state = {\n        nickname: '',\n        realName: '', \n        originDescription: '',\n        superpowers: '',\n        catchPhrase: '',\n        errors: {}\n    };\n\n    //get heroe info\n    async componentDidMount() {\n        const { id } = this.props.match.params;\n\n        const res = await axios\n            .get(`${getApiUrl()}/${id}`);\n\n\n        const heroe = res.data;\n\n        this.setState({\n            nickname: heroe.nickname,\n            realName: heroe.realName,\n            originDescription: heroe.originDescription,\n            superpowers: heroe.superpowers,\n            catchPhrase: heroe.catchPhrase\n        })\n    }\n\n\n    onSubmit = async (dispatch, e) => {\n        e.preventDefault();\n\n        const { nickname, realName, originDescription, superpowers, catchPhrase} = this.state;\n\n    //Check for errors\n        if(nickname === \"\") {\n            this.setState({errors: {nickname: 'Nickname is required'}});\n            return;\n        }\n        if(realName === \"\") {\n            this.setState({errors: {realName: 'RealName is required'}});\n            return;\n        }\n        if(originDescription === \"\") {\n            this.setState({errors: {originDescription: 'Description is required'}});\n            return;\n        }\n        if(superpowers === \"\") {\n            this.setState({errors: {superpowers: 'Superpowers is required'}});\n            return;\n        }\n        if(catchPhrase === \"\") {\n            this.setState({errors: {catchPhrase: 'Catch phrase is required'}});\n            return;\n        }\n\n        const updHeroe = {\n            nickname,\n            realName, \n            originDescription,\n            superpowers,\n            catchPhrase,\n        }\n        const { id } = this.props.match.params;\n\n        const res = await axios\n            .put(`http://localhost:3000/update/${id}`, updHeroe);\n            \n\n        dispatch({type: 'UPDATE_HEROE', payload: res.data});\n\n        //clear State\n        this.setState({\n            realName: '', \n            originDescription: '',\n            superpowers: '',\n            catchPhrase: '',\n            errors: {}\n        });\n\n        //redirect \n        this.props.history.push('/')\n    };\n\n    onChange = (e) => this.setState({[e.target.name]: e.target.value});\n  \n\n\n\n    render() {\n        const { nickname, realName, originDescription, superpowers, catchPhrase, errors } = this.state;\n\n        return (\n            <Consumer>\n                {value => {\n                    const { dispatch } = value;\n                    return (\n                        <div className=\"card mb-3\">\n                        <div className=\"card-header text-center\">Edit Heroe</div>\n                        <div className=\"card-body\">\n                            <form onSubmit={this.onSubmit.bind(this.setState, dispatch)}>\n                                <TextInputGroup\n                                    label=\"Name of Heroe\"\n                                    name=\"nickname\"\n                                    placeholder=\"Enter heroe name\"\n                                    value={nickname}\n                                    onChange={this.onChange}\n                                    error={errors.nickname}\n                                />\n                                <TextInputGroup\n                                    label=\"Real name of Heroe\"\n                                    name=\"realName\"\n                                    placeholder=\"Enter real name\"\n                                    value={realName}\n                                    onChange={this.onChange}\n                                    error={errors.realName}\n                                />\n                                <TextInputGroup\n                                    label=\"Description\"\n                                    name=\"originDescription\"\n                                    placeholder=\"Enter Description of heroe\"\n                                    value={originDescription}\n                                    onChange={this.onChange}\n                                    error={errors.originDescription}\n                                />\n                                <TextInputGroup\n                                    label=\"Superpowers of Heroe\"\n                                    name=\"superpowers\"\n                                    placeholder=\"Enter superpowers\"\n                                    value={superpowers}\n                                    onChange={this.onChange}\n                                    error={errors.superpowers}\n                                />\n                                <TextInputGroup\n                                    label=\"Catch Phrase\"\n                                    name=\"catchPhrase\"\n                                    placeholder=\"Enter Catch Phrase\"\n                                    value={catchPhrase}\n                                    onChange={this.onChange}\n                                    error={errors.catchPhrase}\n                                />\n                                 <div className=\"text-center\">\n                                    <button type=\"submit\" className=\"btn btn-primary\">Update Heroe</button>\n                                </div>\n                            </form>\n                        </div>\n                    </div>\n                    )\n                }}\n            </Consumer>\n        )\n        \n    }\n}\n\nexport default EditHeroe;"]},"metadata":{},"sourceType":"module"}